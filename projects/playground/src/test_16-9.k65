data gamescreen {
	for x=0..[3480-1] eval [floor(x/40) % 2 == 0 ? 0xE4 : 0x00]	// pamięć ekranu gry 40B (wynika z tryby ekranu) * 87 linii = 3480
}

data topbar {
	for x=1..40 eval [0x01]
}

data bottombar {
	for x=1..80 eval [0x03]
}

data displaylist {							// ekran może wyświetlić maks. 216 linii
	nocross
	0x70 0x70 0x70							// 24 puste linie
	0b01000010 &<topbar &>topbar
	0b01001101 &<gamescreen &>gamescreen	// wyznaczanie początku pamięci i pierwsza linia z 87-ciu
	for x=1..86 eval [0x0D]					// pozostałe 86 linii
	0b01000010 &<bottombar &>bottombar
	0x02
	0x41 &<displaylist &>displaylist		// pętla DL
}

[PMBASE=0x7000]
data pmdata {
	address [PMBASE]
	0xFF
}

var DLISTL = 0x0230; // rejestr-cień dla DL
var DLISTH = 0x0231; // rejestr-cień dla DL
var DMACTL = 0xD400; // DMA ConTroL, kontroluje ANTIC-a
var VCOUNT = 0xD40B; // 

var COLPF0S = 0x02C4;
var COLPF1S = 0x02C5;
var COLPF2S = 0x02C6;
var COLPF3S = 0x02C7;
var COLBKS = 0x02C8;

main {
	// wyłączenie ALTIR-y, żeby ustawić DL
	DMACTL=a=0 
	// ustawienie DL
	DLISTL=a=&<displaylist
	DLISTH=a=&>displaylist
	// kolory
	COLPF0S=a=0x1D;
	COLPF1S=a=0x1E;
	COLPF2S=a=0x16;
	COLPF3S=a=0x38;
	COLBKS=a=0x14
	{
		// start ALTIR-y
		DMACTL=a=0b00101010
	} always
}
